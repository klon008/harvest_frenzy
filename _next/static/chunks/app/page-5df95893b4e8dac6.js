(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5279:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z});var r=s(5155),a=s(2115);let l=["blue","purple","yellow"],o=()=>l[Math.floor(Math.random()*l.length)],n=()=>{let e=Math.floor(3*Math.random())+3,t=[];for(let s=0;s<e;s++){let e=[{id:1,color:o(),value:100,isWithered:!1,bonusMultiplier:1},{id:2,color:o(),value:100,isWithered:!1,bonusMultiplier:1}];t.push({id:s+1,bushes:e})}return t};var i=s(9708),c=s(2085),d=s(9434);let u=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:o=!1,...n}=e,c=o?i.DX:"button";return(0,r.jsx)(c,{className:(0,d.cn)(u({variant:a,size:l,className:s})),ref:t,...n})});x.displayName="Button";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});m.displayName="Card";let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",s),...a})});h.displayName="CardHeader";let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});f.displayName="CardTitle";let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",s),...a})});p.displayName="CardDescription";let b=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("p-6 pt-0",s),...a})});b.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter";var g=s(7554),v=s(3503),j=s(4601),y=s(9272),N=s(7481);let w=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...a})});function k(e){let{plots:t,currentScore:s,logs:l}=e,[o,n]=(0,a.useState)(""),{toast:i}=(0,N.dj)();return(0,r.jsxs)(m,{className:"mb-6 bg-card/80 backdrop-blur-sm shadow-lg border-primary/20",children:[(0,r.jsxs)(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(v.A,{className:"h-6 w-6 text-primary"}),(0,r.jsx)(f,{className:"text-lg",children:"Prompt Generator"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(x,{onClick:()=>{let e=t.map((e,t)=>{let s=e.bushes.map(e=>"".concat(e.color," (withered: ").concat(e.isWithered,", bonus: x").concat(e.bonusMultiplier,", value: ").concat(e.value,")")).join(", ");return"  Plot ".concat(t+1,": [").concat(s,"]")}).join("\n"),r=[...l].reverse().map(e=>"[".concat(e.timestamp.toLocaleTimeString(),"] ").concat(e.message)).join("\n");n("You are a harvest assistant, expert in maximizing scores in the Harvest Frenzy game.\n\nGiven the current state of the garden plots, game history, and the game rules, analyze the situation and provide a recommendation for the next best bush to harvest. Explain your reasoning, considering the probabilities of bonus triggers, neighboring bush effects, and the potential for maximizing the harvest total.\n\nHere's the current game state:\nPlots:\n".concat(e,"\nCurrent Score: ").concat(s,"\n\nGame History (from oldest to newest):\n").concat(r,"\n\nGame Rules:\n- Each plot has two bushes that can be blue, purple, or yellow.\n- Clicking a bush yields 100 points of the corresponding color, and the bush withers.\n- There is a 60% chance the neighboring bush on that plot does not wither.\n- If the neighbor survives and is a different color, there is a 50% chance its value will be doubled (stackable, e.g., x2, x4, etc.).\n- Clicking a bush gives a 50% chance to apply a x2 bonus multiplier to all other-colored bushes (on all plots) for subsequent harvests. This bonus can also stack.\n\nBased on this, what is your recommendation for the next harvest?"))},children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Generate Prompt"]}),o&&(0,r.jsxs)(x,{onClick:()=>{o&&(navigator.clipboard.writeText(o),i({title:"Copied!",description:"Prompt copied to clipboard."}))},variant:"outline",children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Copy"]})]})]}),(0,r.jsx)(b,{children:o?(0,r.jsx)(w,{readOnly:!0,value:o,className:"mt-2 w-full h-48 text-sm bg-muted/50 font-mono","aria-label":"Generated AI Prompt"}):(0,r.jsx)(p,{className:"pt-2",children:'Click "Generate Prompt" to create a detailed prompt for your favorite AI, based on the current game state.'})})]})}w.displayName="Textarea";let S=(0,c.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function M(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)(S({variant:s}),t),...a})}let T={blue:{main:"#3b82f6",shadow:"#1d4ed8"},purple:{main:"#a855f7",shadow:"#7e22ce"},yellow:{main:"#facc15",shadow:"#ca8a04"}};function A(e){let{color:t,className:s,...a}=e,{main:l,shadow:o}=T[t];return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:(0,d.cn)("w-16 h-16",s),...a,children:(0,r.jsxs)("g",{transform:"translate(0, -5)",children:[(0,r.jsx)("path",{d:"M 50,70 C 40,90 30,80 30,95 L 70,95 C 70,80 60,90 50,70",fill:"#8B5E3C"}),(0,r.jsx)("path",{d:"M 50,75 C 55,70 60,65 52,60",stroke:"#654321",strokeWidth:"2",fill:"none"}),(0,r.jsx)("circle",{cx:"50",cy:"40",r:"12",fill:l}),(0,r.jsx)("circle",{cx:"50",cy:"40",r:"10",fill:l,stroke:o,strokeWidth:"1"}),(0,r.jsx)("circle",{cx:"38",cy:"50",r:"12",fill:l}),(0,r.jsx)("circle",{cx:"38",cy:"50",r:"10",fill:l,stroke:o,strokeWidth:"1"}),(0,r.jsx)("circle",{cx:"62",cy:"50",r:"12",fill:l}),(0,r.jsx)("circle",{cx:"62",cy:"50",r:"10",fill:l,stroke:o,strokeWidth:"1"}),(0,r.jsx)("circle",{cx:"50",cy:"60",r:"12",fill:l}),(0,r.jsx)("circle",{cx:"50",cy:"60",r:"10",fill:l,stroke:o,strokeWidth:"1"}),(0,r.jsx)("circle",{cx:"42",cy:"28",r:"12",fill:l}),(0,r.jsx)("circle",{cx:"42",cy:"28",r:"10",fill:l,stroke:o,strokeWidth:"1"}),(0,r.jsx)("circle",{cx:"58",cy:"28",r:"12",fill:l}),(0,r.jsx)("circle",{cx:"58",cy:"28",r:"10",fill:l,stroke:o,strokeWidth:"1"}),(0,r.jsx)("path",{d:"M 50,30 C 40,10 60,10 50,30",fill:"#22C55E"}),(0,r.jsx)("path",{d:"M 50,30 C 60,20 70,30 50,30",fill:"#16A34A"})]})})}var C=s(4439);let O=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(C.bL,{ref:t,className:(0,d.cn)("relative overflow-hidden",s),...l,children:[(0,r.jsx)(C.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(E,{}),(0,r.jsx)(C.OK,{})]})});O.displayName=C.bL.displayName;let E=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...l}=e;return(0,r.jsx)(C.VM,{ref:t,orientation:a,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,r.jsx)(C.lr,{className:"relative flex-1 rounded-full bg-border"})})});E.displayName=C.VM.displayName;var _=s(5291),P=s(4733),W=s(9829);let I={action:{icon:_.A,color:"text-blue-500",badge:"secondary"},event:{icon:P.A,color:"text-gray-500",badge:"outline"},bonus:{icon:W.A,color:"text-yellow-500",badge:"default"}};function R(e){let{logs:t}=e;return(0,r.jsxs)(m,{className:"h-full flex flex-col",children:[(0,r.jsxs)(h,{className:"flex flex-row items-center gap-2",children:[(0,r.jsx)(P.A,{className:"h-6 w-6 text-primary"}),(0,r.jsx)(f,{children:"Game Log"})]}),(0,r.jsx)(b,{className:"flex-grow p-0",children:(0,r.jsx)(O,{className:"h-[600px] p-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[0===t.length&&(0,r.jsx)("p",{className:"text-muted-foreground text-center p-4",children:"No actions yet. Start harvesting!"}),t.map((e,t)=>{let s=I[e.type],a=s.icon;return(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:(0,d.cn)("flex-shrink-0 mt-1 h-5 w-5 flex items-center justify-center rounded-full bg-muted",s.color),children:(0,r.jsx)(a,{className:"h-3.5 w-3.5"})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("p",{className:"text-sm text-foreground/90",children:e.message}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.timestamp.toLocaleTimeString()})]})]},t)})]})})})]})}function z(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)({blue:0,purple:0,yellow:0}),[o,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),f=(0,a.useMemo)(()=>Object.values(s).reduce((e,t)=>e+t,0),[s]),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"action";h(s=>[{message:e,type:t,timestamp:new Date},...s])},v=(0,a.useCallback)(()=>{t(n()),l({blue:0,purple:0,yellow:0}),i(!1),h([]),p("New game started!","event")},[]);(0,a.useEffect)(()=>{v()},[v]),(0,a.useEffect)(()=>{e.length>0&&e.every(e=>e.bushes.every(e=>e.isWithered))&&(i(!0),p("Game Over! Final Score: ".concat(f),"event"))},[e,f]);let j=(s,r)=>{if(o)return;let a=JSON.parse(JSON.stringify(e)),n=a.findIndex(e=>e.id===s);if(-1===n)return;let i=a[n].bushes.findIndex(e=>e.id===r);if(-1===i)return;let c=a[n].bushes[i];if(c.isWithered)return;let u=c.value*c.bonusMultiplier;l(e=>({...e,[c.color]:e[c.color]+u})),p("Harvested ".concat(c.color," bush on Plot ").concat(n+1," for ").concat(u," points."),"action"),c.isWithered=!0;let x=a[n].bushes[+(0===i)];if(x&&!x.isWithered&&(.6>Math.random()?(p("Neighbor bush on Plot ".concat(n+1," survived!"),"event"),x.color!==c.color&&.5>Math.random()&&(x.bonusMultiplier*=2,p("Neighbor bush on Plot ".concat(n+1," value doubled to x").concat(x.bonusMultiplier,"!"),"bonus"))):(x.isWithered=!0,p("Neighbor bush on Plot ".concat(n+1," withered."),"event"))),.5>Math.random()){let e=c.color,t=!1;if(a=a.map((s,r)=>({...s,bushes:s.bushes.map((s,a)=>!s.isWithered&&s.color!==e&&.5>Math.random()?(t=!0,p("x2 bonus for ".concat(s.color," bush on Plot ").concat(r+1,"!"),"bonus"),{...s,bonusMultiplier:2*s.bonusMultiplier}):s)})),t){let t="Bonus chance triggered for non-".concat(e," bushes!");d(t),p(t,"event"),setTimeout(()=>d(null),2e3)}}t(a)};return(0,r.jsxs)("main",{className:"container mx-auto p-4 sm:p-6 md:p-8 font-body",children:[(0,r.jsxs)("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[(0,r.jsxs)("div",{className:"text-center sm:text-left",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-5xl font-bold font-headline text-primary-foreground/90 tracking-tight",children:"Harvest Frenzy"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"Click the bushes to harvest and maximize your score!"})]}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)(x,{onClick:v,size:"lg",children:[(0,r.jsx)(g.A,{className:"mr-2 h-5 w-5"})," Play Again"]})})]}),(0,r.jsx)(m,{className:"mb-6 bg-card/80 backdrop-blur-sm",children:(0,r.jsxs)(b,{className:"p-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(A,{color:"blue",className:"w-8 h-8"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:s.blue})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(A,{color:"purple",className:"w-8 h-8"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-purple-600",children:s.purple})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(A,{color:"yellow",className:"w-8 h-8"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-yellow-500",children:s.yellow})]})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Score"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:f})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)(k,{plots:e,currentScore:f,logs:u}),o&&(0,r.jsxs)(m,{className:"my-6 text-center p-6 bg-primary/20 border-primary",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Game Over!"}),(0,r.jsxs)("p",{className:"text-xl mt-2",children:["You harvested a total of ",(0,r.jsx)("span",{className:"font-bold text-primary-foreground",children:f})," fruits!"]}),(0,r.jsx)(x,{onClick:v,className:"mt-4",children:"Play Again"})]}),c&&(0,r.jsx)("div",{className:"fixed top-5 right-5 bg-accent text-accent-foreground p-3 rounded-lg shadow-lg animate-in fade-in zoom-in",children:c}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mt-8",children:e.map((e,t)=>(0,r.jsxs)(m,{className:"p-4 flex flex-col items-center gap-4 shadow-md hover:shadow-xl transition-shadow duration-300",children:[(0,r.jsxs)("h3",{className:"font-bold text-lg text-muted-foreground",children:["Plot ",t+1]}),(0,r.jsx)("div",{className:"flex justify-center items-end gap-4",children:e.bushes.map(t=>(0,r.jsxs)("div",{className:"relative flex flex-col items-center",children:[t.bonusMultiplier>1&&!t.isWithered&&(0,r.jsxs)(M,{variant:"destructive",className:"absolute -top-2 z-10 animate-pulse bg-accent text-accent-foreground",children:["x",t.bonusMultiplier]}),(0,r.jsx)("button",{onClick:()=>j(e.id,t.id),disabled:t.isWithered||o,"aria-label":"Harvest ".concat(t.color," bush"),className:"transition-all duration-300 ease-in-out ".concat(t.isWithered?"opacity-30 scale-75 grayscale":"hover:scale-110 cursor-pointer"),children:(0,r.jsx)(A,{color:t.color,className:"w-24 h-24"})}),(0,r.jsx)("span",{className:"text-sm font-semibold text-muted-foreground",children:t.value*t.bonusMultiplier})]},t.id))})]},e.id))})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)(R,{logs:u})})]})]})}},7163:(e,t,s)=>{Promise.resolve().then(s.bind(s,5279))},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>x});var r=s(2115);let a=0,l=new Map,o=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],c={toasts:[]};function d(e){c=n(c,e),i.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=r.useState(c);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(2596),a=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[69,23,441,684,358],()=>t(7163)),_N_E=e.O()}]);